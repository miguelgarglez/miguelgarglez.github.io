---
import { Icon } from 'astro-icon/components';
---

<!-- ThemeToggle.astro -->
<button id="theme-toggle" aria-label="Cambiar tema">
  <span class="sun-icon" aria-hidden="true">
    <Icon name="lucide:sun" aria-hidden="true" />
  </span>
  <span class="moon-icon" aria-hidden="true">
    <Icon name="lucide:moon" aria-hidden="true" />
  </span>
</button>

<script>
  // JavaScript que se ejecuta en el cliente
  const themeToggle = document.getElementById('theme-toggle');
  const body = document.body;

  // Manejar click del botÃ³n - simplemente alternar sin guardar
  themeToggle?.addEventListener('click', () => {
    body.classList.toggle('light');
  });
</script>

<style>
  #theme-toggle {
    position: fixed;
    top: 16px;
    right: 16px;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 24px;
    width: 44px;
    height: 44px;
    z-index: 9999;
    padding: 0;
    border-radius: 999px;
    transition: all 0.3s ease-in-out;
    color: var(--text);
    display: grid;
    place-items: center;
  }

  #theme-toggle:hover {
    transform: scale(1.08);
  }


  .sun-icon,
  .moon-icon {
    display: none;
  }

  .sun-icon svg,
  .moon-icon svg {
    width: 22px;
    height: 22px;
    stroke: currentColor;
    stroke-width: 1.8;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  body.light .moon-icon {
    display: inline;
  }

  body:not(.light) .sun-icon {
    display: inline;
  }

  body:not(.light) #theme-toggle {
    color: #f3c46a;
  }
</style>
